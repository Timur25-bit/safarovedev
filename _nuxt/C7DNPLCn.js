import{d as j,ap as N,aq as w,ar as L,h as l,a as I,r as E,u as A,T as q,e as F,as as z,H,at as _,R as B,au as T,av as M,aw as P,ax as V,ay as U,az as W,aA as D,M as G,aB as J,_ as Q,x as X,y as Y,B as Z}from"./Bo9dkVDs.js";const S=(n="RouteProvider")=>j({name:n,props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(a){const e=a.renderKey,u=a.route,o={};for(const r in a.route)Object.defineProperty(o,r,{get:()=>e===a.renderKey?a.route[r]:u[r],enumerable:!0});return N(L,w(o)),()=>l(a.vnode,{ref:a.vnodeRef})}}),$=S(),O=new WeakMap,ee=j({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(n,{attrs:a,slots:e,expose:u}){const o=I(),r=E(),i=H(L,null);let c;u({pageRef:r});const s=H(J,null);let d;const y=o.deferHydration();if(o.isHydrating){const t=o.hooks.hookOnce("app:error",y);A().beforeEach(t)}n.pageKey&&q(()=>n.pageKey,(t,m)=>{t!==m&&o.callHook("page:loading:start")});let f=!1;{const t=A().beforeResolve(()=>{f=!1});F(()=>{t()})}return()=>l(z,{name:n.name,route:n.route,...a},{default:t=>{const m=ne(i,t.route,t.Component),k=i&&i.matched.length===t.route.matched.length;if(!t.Component){if(d&&!k)return d;y();return}if(d&&s&&!s.isCurrent(t.route))return d;if(m&&i&&(!s||s!=null&&s.isCurrent(i)))return k?d:null;const g=_(t,n.pageKey),R=ae(i,t.route,t.Component);!o.isHydrating&&c===g&&!R&&B(()=>{f=!0,o.callHook("page:loading:end")}),c=g;const h=!!(n.transition??t.route.meta.pageTransition??T),C=h&&te([n.transition,t.route.meta.pageTransition,T,{onBeforeLeave(){o._runningTransition=!0},onAfterLeave(){delete o._runningTransition,o.callHook("page:transition:finish",t.Component)}}]),x=n.keepalive??t.route.meta.keepalive??M;return d=P(h&&C,V(x,l(U,{suspensible:!0,onPending:()=>o.callHook("page:start",t.Component),onResolve:()=>{B(()=>o.callHook("page:finish",t.Component).then(()=>{if(!f&&!R)return f=!0,o.callHook("page:loading:end")}).finally(y))}},{default:()=>{const b={key:g||void 0,vnode:e.default?oe(e.default,t):t.Component,route:t.route,renderKey:g||void 0,trackRootNodes:h,vnodeRef:r};if(!x)return l($,b);const p=t.Component.type,K=p;let v=O.get(K);return v||(v=S(p.name||p.__name),O.set(K,v)),l(v,b)}}))).default(),d}})}});function te(n){const a=n.filter(Boolean).map(e=>({...e,onAfterLeave:e.onAfterLeave?W(e.onAfterLeave):void 0}));return D(...a)}function ne(n,a,e){if(!n)return!1;const u=a.matched.findIndex(o=>{var r;return((r=o.components)==null?void 0:r.default)===(e==null?void 0:e.type)});return!u||u===-1?!1:a.matched.slice(0,u).some((o,r)=>{var i,c,s;return((i=o.components)==null?void 0:i.default)!==((s=(c=n.matched[r])==null?void 0:c.components)==null?void 0:s.default)})||e&&_({route:a,Component:e})!==_({route:n,Component:e})}function ae(n,a,e){return n?a.matched.findIndex(o=>{var r;return((r=o.components)==null?void 0:r.default)===(e==null?void 0:e.type)})<a.matched.length-1:!1}function oe(n,a){const e=n(a);return e.length===1?l(e[0]):l(G,void 0,e)}const re={},ie={class:"page"};function se(n,a){const e=ee;return Y(),X("div",ie,[Z(e)])}const de=Q(re,[["render",se],["__scopeId","data-v-703de9a7"]]);export{de as default};
